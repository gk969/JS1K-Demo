<html>	<head>		<title>JS1K Demo</title>		<meta charset="utf-8">	</head>		<body>		<canvas id="c" width="1024" height="768">		<script>			var b = document.body;			var c = document.getElementsByTagName('canvas')[0];			var a = c.getContext('2d');			document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218		</script>				<script>			for (G = [				[0, o = j = 280],				[0, -j]			]; j--;)				for (G.push([30, (25 + Math.cos(i = j / 8) + i * i / 60) * Math.cos(Math.PI * j), i & 32 ? 70 : 16, -40 - i]), b = a[j] = c.cloneNode(i = o), b.width = b.height = 30, e = b.getContext('2d'); x = j / 8, e.fillStyle = 'hsla(' + [j % 16 * 8 - x, j % 16 * 6 + x + '%', (j < 17) * 60 + j % 16 * 7 + '%', 1] + ')', i--;)					for (x /= 2; j / 30 < x--;) e.fillRect(16 + x * Math.cos(i) * Math.cos(i * (y = Math.sin(i))), 16 + x * y, .1, 1);			for (setInterval(function(b, e) {				for (i = 560; f = i / 4 + j / 20 % 8 - 8, i--;)					for (a.fillStyle = 'hsla(' + [0, 0 + '%', 60 + Math.cos(Math.PI * i / 8) * 30 - f * 8 + '%', 1] + ')', y = 10; f > 0 & f < 9 && -10 < y--;)						for (x = 11; - 10 < x--;)(y ^ -6 && Math.abs(x) ^ 6 || i % 4) && x * x + y * y < 80 || a.fillRect(Math.sin(j / 60) * f * 50 + x * 50 / f + o, y * 50 / f + o, 60 / f, 60 / f);				a.fillStyle = 'hsla(' + [560, ++j + '%', 60 + '%', .1] + ')';				G.sort(function(b, e) {					return b[0] - e[0]				});				G.map(function(b, e) {					b[0] = Math.cos(i = Math.cos(j / 60) / 60) * b[0] - Math.sin(i) * [b[1], b[1] = Math.sin(i) * b[0] + Math.cos(i) * b[1]][0];					x = o - i * 3e3;					for (i = 30, a.drawImage(a[~~b[2]], b[1] - 16 + x, b[3] - 16 + x); !b[2] && i--;) a.beginPath(), a.moveTo(-b[0] / 16 + x + b[1] / 4, x), a.bezierCurveTo(-b[0] / 2 + x + b[1] / 2, Math.cos(Math.cos(i) * j) * 160 + x, b[0] / 2 + x + b[1] / 2, Math.cos(Math.cos(i) * j) * 160 + x, b[0] / 16 + x + b[1] / 4, x), a.fill()				})			}, j = 4); j--;)				for (i = j ? c.width = c.height = 560 : 4e3; z = Math.cos(i) * Math.cos(i * (y = Math.sin(i))), x = Math.cos(i) * Math.sin(i * y), i--;) j | (z + 1) % .5 < .1 && G.push([(z * (191 >> j * 4 & 15) + (e = 52736 >> j * 4 & 15)) * 4, x * (12700 >> j * 4 & 15) * 4.5 + Math.cos(Math.PI * i) * 1.5 * e, (59542 >> j * 4 & 15) - y * (5188 >> j * 4 & 15) + (25080 >> j * 4 & 15) * 16, y * (12700 >> j * 4 & 15) * 4 - (j & 2) * 8]), j || Math.abs(e = 8 - i % 16) < 54 - i / 16 && G.push([25, e, 16 | [1, 14, 1, , , 1, 8, 1][~~(i / 48 + e / 3) % 10], 45 + i / 16])		</script>			</body></html>	