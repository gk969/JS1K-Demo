<html>	<head>		<title>JS1K Demo</title>		<meta charset="utf-8">	</head>		<body>		<canvas id="c" width="1024" height="768">		<script>			var b = document.body;			var c = document.getElementsByTagName('canvas')[0];			var a = c.getContext('2d');			document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218		</script>				<script>			F = 255;			W = 600;			U = 40;			S = 0;			C = document.body.children[0];			C.width = C.height = W;			X = C.getContext("2d");			M = Math;			R = M.random;			I = 215;			G = [1, 1, -1, 1, 1, -1, -1, -1, 1, 0, -1, 0, 1, 0, -1, 0, 0, 1, 0, -1, 0, 1, 0, -1];			V = "37|fff|45|030|60|663|76|390|79|330|80|ccc|85|6cc|89|036|92|036|99|023".split("|");			D = function(j, o, e) {				V = 0;				for (IO = e; e;) {					var Q = .211,						U = .578,						c = j / e,						d = o / e,						a = (c + d) * .366,						k = c + a | 0;					a = d + a | 0;					var f = (k + a) * Q;					c = c - k + f;					d = d - a + f;					f = c > d;					l = k + a + I & F;					a = function(l, m, n) {						var h = .5 - l * l - m * m;						return h < 0 ? 0 : h * h * h * h * (G[n % 12 * 2] * l + G[n % 12 * 2 + 1] * m)					};					V += e * 70 * (a(c, d, l) + a(c - f + Q, d - !f + Q, l + 1) + a(c - U, d - U, l + 2));					e >>= 1				}				return M.abs(V / IO)			};			with(X) {				X.a = fillRect;				g = createLinearGradient(0, 0, 0, F);				for (i = 20; i--;) g.addColorStop(V[i - 1] / 99, "#" + V[i--]);				fillStyle = g;				a(0, 0, U, F);				T = getImageData(0, 0, U, F).data;				for (i = U * F * 4; i--;) T[i] = T[i] * (D(i / 4 % U, i / 160 | 0, W) + .4) | 0;				I = R() * F | 0;				clearRect(0, 0, W, W);			}			setInterval('X.drawImage(C,0,-1);for(x=W;x-=2;){z=D(x,S,W)*60|0;b=~~(U*F*(1-z/80)+R()*U)*4;X.fillStyle="rgb("+T[b]+","+T[b+1]+","+T[b+2]+")";X.a(x,W-1-z,2,z+1)}S+=2', 16)		</script>			</body></html>	