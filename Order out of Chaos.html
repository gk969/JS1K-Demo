<html>	<head>		<title>JS1K Demo</title>		<meta charset="utf-8">	</head>		<body>		<canvas id="c" width="1366" height="561">		<script>			var b = document.body;			var c = document.getElementsByTagName('canvas')[0];			var a = c.getContext('2d');			document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218		</script>				<script>			window.onload = function() {				var d = [],					m = 0,					n = 0,					h = 6,					j, k;				j = c.width = window.innerWidth;				k = c.height = window.innerHeight;				for (var r = j / 2 - 275, s = k / 2 - 110, e = 1; 20 >= e; e++)					for (var l = 1; 50 >= l; l++) {						var p = 11 * l + r,							q = 11 * e + s;						d.push({							x: p,							y: q,							b: p,							c: q,							d: 5,							a: 0						})					}				c.onmousemove = function(b) {					m = b.pageX;					n = b.pageY				};				c.onmousedown = function() {					h = 24				};				c.onmouseup = function() {					h = 6				};				window.setInterval(function() {					for (var b in d) {						var f = d[b].x - m,							e = d[b].y - n,							g = Math.sqrt(f * f + e * e),							f = Math.atan2(e, f);						v1o = d[b].x - d[b].b;						v2o = d[b].y - d[b].c;						vDo = Math.sqrt(v1o * v1o + v2o * v2o);						vAo = Math.atan2(v2o, v1o) + 0.78554;						200 > g ? (d[b].x += Math.cos(f) * (20 * h / g), d[b].y += Math.sin(f) * (20 * h / g)) : (d[b].x -= Math.cos(vAo) / (20 / vDo), d[b].y -= Math.sin(vAo) / (20 / vDo));						g = Math.round(128 * (vDo / 200));						d[b].a = "rgba(0," + (0 + g) + "," + (128 - g) + ",1)"					}					a.fillStyle = "#112211";					a.fillRect(0, 0, j, k);					a.save();					a.globalCompositeOperation = "lighter";					for (b = 0; b < d.length; b++) a.fillStyle = d[b].a, a.fillRect(d[b].x, d[b].y, 12, 12);					a.restore()				}, 33)			};		</script>			</body></html>	