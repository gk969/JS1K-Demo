<html>	<head>		<title>JS1K Demo</title>		<meta charset="utf-8">	</head>		<body>		<canvas id="c" width="1024" height="768">		<script>			var b = document.body;			var c = document.getElementsByTagName('canvas')[0];			var a = c.getContext('2d');			document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218		</script>				<script>			for (Z in a) a[Z[0] + (Z[6] || Z[2])] = a[Z];m = {};p = t = 0;q = s = o = 250;w = .01;onmousemove = function(w) {    q = w.pageX;    s = w.pageY};setInterval('W=c.width=innerWidth;H=(c.height=innerHeight)-150;t+=.005;if(w>Math.random()){e=m[p++]=[];u=Math.random()*W;g=e.e=5+9*Math.random();for(j=20;j--;)d=e[j]={},d.f=d.x=u+g*Math.cos(j/4),d.g=d.y=g*Math.sin(j/4)-20;e.k="hsl("+o*Math.random()+",99%,50%)";e.j=6*g*g}for(l=p;e=m[--l];)for(j=p;d=m[--j];)if(g=e.e+d.e,h=d.a-e.a,f=d.b-e.b,l!=j&&h>-g*2&&h<g*2&&f>-g*2&&f<g*2){h/=z=Math.sqrt(h*h+f*f);f/=z;z*=e.e/g;for(k=20;d=e[--k];)n=Math.max(0,(d.x-e.a)*h+(d.y-e.b)*f-z),d.x-=n*h,d.y-=n*f}for(l=p;e=m[--l];){a.fillStyle=e.k;a.ba();a.mv(e[0].x,e[0].y);for(j=20;j--;)d=e[j],f=e[(j+1)%20],g=e[(j+2)%20],h=g.x-f.x,g=g.y-f.y,k=d.x-f.x,n=d.y-f.y,f.h=h+k,f.i=g+n,f.c=g-n,f.d=k-h,a.ln(d.x,d.y);a.sr();a.fl();k=g=h=e.a=e.b=0;for(j=20;j--;)d=e[j],f=e[(j+1)%20],h+=d.c*f.d-f.c*d.d,g+=d.x*f.d+d.c*f.y-f.x*d.d-f.c*d.y,k+=d.x*f.y-f.x*d.y;k=(Math.sqrt(g*g-4*h*(k-e.j))-g)/2/h;for(j=20;j--;)d=e[j],d.x+=d.h/4+k*d.c,d.y+=d.i/4+k*d.d,h=q-d.x,f=s-d.y,g=Math.max(h*h+f*f,5),h=d.x-d.f+h/g,f=d.y-d.g+w+f/g,d.f=d.x,d.g=d.y,e.a+=d.x=Math.min(Math.max(0,d.x+h),W),e.b+=d.y+=f,f=H+99*Math.sin(t+d.x/o)-d.y,f<0&&(d.x-=f/2*Math.cos(t+d.x/o),d.y=H+99*Math.sin(t+d.x/o));e.a/=20;e.b/=20}', 8);		</script>			</body></html>	