<html>	<head>		<title>JS1K Demo</title>		<meta charset="utf-8">	</head>		<body>		<canvas id="c" width="1024" height="768">		<script>			var b = document.body;			var c = document.getElementsByTagName('canvas')[0];			var a = c.getContext('2d');			document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218		</script>				<script>c = document.getElementById("c");var s = 400,    D = 0.3,    Z = 255,    R = Math.random,    i;c.width = c.height = s;var X = c.getContext("2d"),    h = X.getImageData(0, 0, s, s),    t = h.data,    U = 0;for (i = 0; i < s * s * 4; i += 4) {    if (R() < D) {        t[i + 2] = Z;        if (R() < 0.0003) {            t[i] = Z        } else {            U++;            t[i] = 35        }        t[i + 1] = 142    } else {        t[i] = t[i + 1] = t[i + 2] = 0    }    t[i + 3] = Z}X.putImageData(h, 0, 0);var W = !!1,    a, b, c, d, x, y, B, C, T, K, L, M, N, g = function(e) {        if (t[e + 2] == Z) {            if (t[e] != Z) U--;            t[e] = t[e + 1] = Z        }    },    Q = setInterval(function() {        for (x = 0; x < s; x += 2) {            for (y = 0; y < s; y += 2) {                d = ((L = ((K = (x + W) % s) + 1) % s) + (N = ((M = (y + W) % s) + 1) % s) * s) * 4;                a = (K + M * s) * 4;                B = b = (L + M * s) * 4;                C = c = (K + N * s) * 4;                if (t[a] == Z || t[b] == Z || t[c] == Z || t[d] == Z) {                    g(a);                    g(b);                    g(c);                    g(d)                } else {                    if (R() < 0.5) B = c, C = b;                    for (i = 0; i < 3; i++) {                        T = t[a + i];                        t[a + i] = t[B + i];                        t[B + i] = t[d + i];                        t[d + i] = t[C + i];                        t[C + i] = T                    }                }            }        }        W = !W;        X.putImageData(h, 0, 0);        if (!U) {            clearInterval(Q)        }    }, 100);		</script>			</body></html>	