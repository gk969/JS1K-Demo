<html>	<head>		<title>JS1K Demo</title>		<meta charset="utf-8">	</head>		<body>		<canvas id="c" width="1024" height="768">		<script>			var b = document.body;			var c = document.getElementsByTagName('canvas')[0];			var a = c.getContext('2d');			document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218		</script>				<script>D = document, q = D.body, F = q.style, ge = D.getElementById("c"), e = ge.getContext("2d"), f = Math, G = f.PI, a = f.sin, d = f.cos, k = f.random, F.margin = 0;F.overflow = "hidden";z = ge.width = innerWidth;v = ge.height = innerHeight;e.fillRect(J = 0, Q = 0, z, v);c = R = I = 1000;q.onclick = function(x) {    R = (x.clientX - z / 2) / z * 2;    I = (x.clientY - v / 2) / v * 2;    reset();};D.onkeypress = function(x) {    Q = (Q == 0) ? 1 : 0;};function reset(x) {    if (x) {        R = k() - .5;        I = k() - .5;    }    K = k();    xD = d(2 * K * G) / z * 2;    yD = a(2 * K * G) / v * 2;    if (Q == 0) {        e.fillStyle = "rgba(0,0,0,.5)";        e.fillRect(0, 0, z, v);    }};setInterval(function(V) {    if ((R * R + I * I) > 2) {        reset(1);    }    J++;    j = (d(J / 100) + 1) * G;    r = ~~((d(2 * K * G + j) + 1) / 2 * 255);    g = ~~((a(2 * K * 2 * G + j) + 1) / 2 * 255);    b = ~~((-d(2 * K * G + j) + 1) / 2 * 255);    e.fillStyle = "rgb(" + r + "," + g + "," + b + ")";    R = R + xD;    I = I + yD;    r1 = R;    i1 = I;    i = 0;    while (f.sqrt(r1 * r1 + i1 * i1) < 2 && i < 500) {        e.fillRect(r1 * z / 2 + z / 2, i1 * v / 2 + v / 2, 2, 2);        r2 = r1 * r1 - i1 * i1 + R;        i2 = 2 * r1 * i1 + I;        r1 = r2;        i1 = i2;        i++;    }    if (Q == 1) {        e.fillStyle = "rgba(0,0,0,.1)";        e.fillRect(0, 0, z, v);    }}, 1)		</script>			</body></html>	