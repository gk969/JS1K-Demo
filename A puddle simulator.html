<html>	<head>		<title>JS1K Demo</title>		<meta charset="utf-8">	</head>		<body>		<canvas id="c" width="1024" height="768">		<script>			var b = document.body;			var c = document.getElementsByTagName('canvas')[0];			var a = c.getContext('2d');			document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218		</script>				<script>			c = document.getElementById("c");s = 100;window.onload = function() {    c.style.width = c.style.height = "50%";    window.onclick = function() {        g[r()][r()] += 4    };    g = Array(s);    p = Array(s);    for (i = 0; i < s; i++) {        g[i] = Array(s);        p[i] = Array(s)    }    d(function(m, l) {        g[m][l] = 0;        p[m][l] = 0    }, 0);    x = c.getContext("2d");    x.fillStyle = "rgb(0,0,190)";    setInterval("go()", 50)};function r() {    return Math.floor((s - 2) * Math.random() + 1)}function go() {    k();    f()}function f() {    e = n(g);    d(function(m, l) {        g[m][l] = 2 * e[m][l] - p[m][l] + 0.5 * (e[m][l + 1] + e[m][l - 1] + e[m - 1][l] + e[m + 1][l] - 4 * e[m][l]);        g[m][l] *= 0.98    }, 1);    p = e}function n(m) {    t = Array(s);    for (i = 0; i < s; i++) t[i] = m[i].slice();    return t}function d(m, l) {    for (i = 0 + l; i < s - l; i++)        for (j = 0 + l; j < s - l; j++) m(i, j)}function k() {    x.clearRect(0, 0, 300, 300);    d(function(m, l) {        c = l * 2;        b = m * 2 * 0.39;        o = 10 * g[m][l];        h = 1;        a = s - b * 0.82 - o;        if (l == 99 || m == 0) h = 10 + o;        x.fillRect(c + b * 0.39, a, 1, h)    }, 0)};		</script>			</body></html>	