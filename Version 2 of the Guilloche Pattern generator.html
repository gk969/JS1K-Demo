<html>	<head>		<title>JS1K Demo</title>		<meta charset="utf-8">	</head>		<body>		<canvas id="c" width="1024" height="768">		<script>			var b = document.body;			var c = document.getElementsByTagName('canvas')[0];			var a = c.getContext('2d');			document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218		</script>				<script>for (i = 4; i--;) {	document.body.innerHTML += '<input type="range" value="500"" max="1000" style="display:block" onchange="draw({})">'}var canvas = document.getElementById("c"),		ctx = canvas.getContext('2d'),		size = 1000,		halfSize = size / 2,		majorR = halfSize - 100,		hue = 0,		i,		inputs = document.getElementsByTagName('input'),		values = [];canvas.width = size;canvas.height = size,		ctx.globalAlpha = .3;canvas.onclick = function() {	hue = Math.random() * 256;	draw({});};canvas.onmousemove = drawdraw({});function draw(event) {	ctx.clearRect(0, 0, size, size);	inputs[0].value = event.clientX || inputs[0].value	inputs[1].value = event.clientY || inputs[1].value	for (i = 4; i--;) values[i] = inputs[i].value;	var minorR = values[0] / 10,			diff = majorR - minorR,			s = diff / minorR,			theta = 0,			angleMuliplier = values[1] / 10 ,			radiusEffect = values[2] / 2 + minorR,			steps = values[3] * 2,			oldX, oldY;	for (i = steps; i--;) {		var mult = angleMuliplier * theta,			x = diff * Math.sin(mult) + radiusEffect * Math.sin(mult * s) + halfSize,			y = diff * Math.cos(mult) - radiusEffect * Math.cos(mult * s) + halfSize;		theta += Math.PI * 4 / steps;		if (oldX) {			ctx.strokeStyle = 'hsl(' + (  hue + (i % 85)) + ', 80%, 20%)';			ctx.beginPath();			ctx.moveTo(oldX, oldY);			ctx.lineTo(x, y);			ctx.closePath();			ctx.stroke();		}		oldX = x;		oldY = y;	}}		</script>			</body></html>	