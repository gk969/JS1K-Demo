<html>	<head>		<title>JS1K Demo</title>		<meta charset="utf-8">	</head>		<body>		<canvas id="c" width="1024" height="768">		<script>			var b = document.body;			var c = document.getElementsByTagName('canvas')[0];			var a = c.getContext('2d');			document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218		</script>				<script>			function f(e) {				g = g ? q.createElement("canvas") : q.body.children.c;				g.width = e * 100;				g.height = c;				a = g.getContext("2d");				r.push(g);				for (b in a) a[(b[7] || b[0]) + (b[11] || b[2])] = a[b];				a.f = a.fillRect			}			function m(e, n, o) {				a.sv();				a.rt(o);				a.ta(0, -e);				a.sa(n, n);				l *= n;				if (l > .04) S();				a.rs();				l /= n			}			function s() {				if (d(1) < .04) {					m(0, .7, -.15);					m(0, .7, .15)				} else {					a.f(0, 0, 9, 9);					m(4, 1, d(6) < 3 ? .08 : -.08)				}			}			function D() {				a.f(0, 0, 2, 2);				d(1) > .02 && m(1, .98, d(.2) - .1)			}			function d(e) {				return t.random() * e			}			function h(e) {				a.fillStyle = e			}			var g, q = document,				t = Math,				r = [],				w = "#FFF",				W = 900,				c = 400,				p = i = 0,				l = 1,				b = f(9),				j = a;			f(9);			k = a;			h(w);			f(9);			u = a;			h("rgba(0,0,0,.05)");			f(10);			for (h(w); i++ < 200;) a.f(d(1E3), d(c), d(3), d(3));			f(15);			b = a.al(c, 120, 20, c, 120, W);			b.P = b.addColorStop;			b.P(.1, w);			G = "rgba(4,129,227,";			b.P(.11, G + ".3)");			b.P(1, G + "0)");			h(b);			a.f(0, 0, c * 4, c);			f(18);			for (h("#059"); p++ < W; a.ta(2, (p == 1) * c)) {				S = s;				p % 120 || s();				S = D;				D()			}			setInterval(function() {				j.ce(0, 0, W, c);				j.ga(k.cn, 0, 0);				k.ce(0, 0, W, c);				k.ga(j.cn, -1, 1);				u.f(0, 0, W, c);				u.ga(k.cn, 0, 0);				d(7) < .1 && k.f(d(1E3), 0, d(3), d(3));				j.f(0, 0, W, c);				for (i = 1; ++i < 6;) j.ga(b = r[i], t.abs(p % 2 - 1) * -(b.width - W), 0);				p += .001			}, 10);			j.cn.onclick = function(e) {				k.f(e.clientX, e.clientY, d(3), d(3))			};		</script>			</body></html>	